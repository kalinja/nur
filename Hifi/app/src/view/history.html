
<h3>Moje historie</h3>
<div class="panel-group" id="accordion" ng-controller="HistoryController as hc">
    <div class="header">
        <button type="button" class="btn btn-default " ng-click="hc.clearAllHistory()">{{hc.clearAllBtnText}}</button>
    </div>
    <div class="panel panel-default" ng-repeat="test in hc.tests" id="test{{$index}}">
        <div ng-click="isCollapsed = !isCollapsed" class="panel-heading row rowHistory pointer" title="Zobrazit více">
            <h4 class="panel-title col-sm-12">
                {{test.name}}
                <span ng-if="isCollapsed" class="glyphicon glyphicon-arrow-up pull-right arrowMargin"></span>
                <span ng-if="!isCollapsed" class="glyphicon glyphicon-arrow-down pull-right arrowMargin"></span>
                <span class="pull-right">Úspěšnost: {{test.rating}}%</span>
            </h4>

        </div>
        <div uib-collapse="!isCollapsed" class="panel-collapse collapse container-fluid">
            <div class="panel-body row">
                <div class="well pull-left col-sm-8" style="margin-bottom: 0;">
                    <img ng-if="!test.noHistory" src="res/sample-rating-graph.png" class="panel-title pull-right"/>
                    <img ng-if="test.noHistory" src="res/sample-rating-graph-empty.png" class="panel-title pull-right"/>
                </div>
                <div class="pull-right col-sm-4">
                    <div class="well" style="margin-bottom: 0;">
                        <br/>Počet spuštění: {{test.runCount}}
                        <br/>Maximum: {{test.maxScore}}%
                        <br/>Naposled: {{test.lastScore}}%
                    </div>
                    <button type="button" class="btn btn-primary form-control" ng-click="hc.showCorrectAnswers()" style="margin-top: 0.5em;">{{hc.correctAnswersBtnText}}</button>
                    <button type="button" class="btn btn-primary form-control" ng-click="hc.deleteHistory(hc.tests.indexOf(test))" style="margin-top: 0.5em;">{{hc.deleteBtnText}}</button>
                    <button type="button" class="btn btn-primary form-control" ng-click="hc.runTest(test)" style="margin-top: 0.5em;">{{hc.runBtnText}}</button>
                </div>
            </div>
        </div>
    </div>
</div>
